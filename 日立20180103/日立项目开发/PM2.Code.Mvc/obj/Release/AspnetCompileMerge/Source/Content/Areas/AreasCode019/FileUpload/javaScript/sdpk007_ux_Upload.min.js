(function(n){var t=function(){var t=this,r={isLoad:!1,pk:"-1"},i,u;n.extend(r,arguments[0]);t.SetPK=function(n){return r.pk=n,t};t.Add=function(n){return i.datagrid("appendRow",n),t};t.Remove=function(){var u=i.datagrid("getChecked"),r;return u&&u.length>0?(r=[],n.each(u,function(n,t){r.push(t.pk)}),n.ajax({type:"POST",url:"/AreasCode019/sdpk007/Remove",contentType:"application/json; charset=utf-8",data:JSON.stringify(r),dataType:"json",success:function(t){t.success?n.each(r,function(n,t){var n=i.datagrid("getRowIndex",t);i.datagrid("deleteRow",n)}):n.messager.alert("友情提示",t.Message,"error")},error:function(){}})):n.messager.alert("提示信息","请选择要删除的数据!","warning"),t};t.Load=function(){return r.isLoad=!0,i.datagrid("load",{pk:r.pk}),t};u=function(){i=n("#"+r.GridID);i.datagrid({idField:"pk",fit:!0,border:!1,url:"/AreasCode019/sdpk007/GetModels",loadMsg:"数据加载中,请稍后...",method:"post",rownumbers:!0,singleSelect:!0,checkOnSelect:!1,selectOnCheck:!1,pagination:!0,pageSize:100,pageList:[100],columns:[[{field:"ck",checkbox:!0},{field:"pk00803",title:"附件名称",width:300},{field:"pk00805",title:"创建时间",width:180,align:"center"},{field:"pj00402",title:"创建人",width:130}]],onDblClickRow:function(n,t){r.onGrid_Click(n,t)},onBeforeLoad:function(){return r.isLoad}});var t=i.datagrid("getPager");t.pagination({showPageList:!1,layout:["list","sep","first","prev","links","next","last","sep","refresh"],displayMsg:"当前页从 {from} 到 {to} 条记录.共 {total} 条记录."})}()},i=function(){var i=this,u={GridID:"sdpk007_ux_Grid",onGrid_Click:function(){}},r,f,o,e,s;n.extend(u,arguments[0]);i.Init=function(n,t){r.SetPK(n);var i="enable";t||(i="disable");f.linkbutton(i);e.linkbutton(i)};i.Add=function(n){return r.Add(n),i};i.Load=function(){return r.Load(),i};s=function(){r=new t(u);f=n("#sdpk007_ux_AddBt");o=n("#sdpk007_ux_ReadBt");e=n("#sdpk007_ux_DelBt");f.linkbutton({onClick:function(){if(i.pk=="-1"){n.messager.alert("提示信息","请设置关联单据主键!","warning");return}window.open("/AreasCode019/FileUpload/ChildAction/"+u.pk)}});e.linkbutton({onClick:function(){r.Remove()}});o.linkbutton({onClick:function(){}})}()};window.sdpk007_ux_WinClass=new i})(jQuery);
//# sourceMappingURL=sdpk007_ux_Upload.min.js.map
